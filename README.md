# 인프런 코딩 테스트

## 환경 구성

1. `yarn` 실행
2. `yarn start` 실행 (API 서버 실행)
   - port : 3000

## 서비스 내용

강의를 검색하고 검색 결과를 리스트로 볼 수 있는 페이지를 만듭니다.
아래 강의 리스트와 강의 검색에 관한 기능 요청을 참고해서 서비스를 만듭니다.

## 강의 리스트 페이지의 구현은 다음을 참고합니다. (✔️)

1. 아래 API 명세를 참고하여 서버에서 응답으로 받은 강의 리스트를 노출합니다. (✔️)
2. 무한 스크롤을 이용하여 강의 리스트를 노출합니다. (✔️)
3. 각 강의는 다음 내용을 포함합니다. (✔️)
   - 강의 이미지 (✔️)
   - 강의 제목 (✔️)
   - 지식공유자 이름 (✔️)
   - 강의 가격 (✔️)
4. 각 강의는 클릭하면 강의 상세 페이지로 이동할 수 있어야 합니다. (✔️)
   - 상세 페이지는 구체적으로 구현하지 않습니다. (✔️)
   - 단, 페이지 이동은 가능해야 합니다. (✔️)

## 강의 검색의 구현은 다음을 참고합니다.

1. 검색창에 검색어 입력시 입력창 하단에 검색 결과 리스트를 표시합니다. 사용 API는 명세를 참고합니다.(✔️)
   - 검색 결과는 강의 제목을 나열합니다. (✔️)
2. 검색어가 2자 이상이면 검색 결과를 노출합니다. (✔️)
3. 검색창을 포커싱할 때 이미 입력되어있는 검색어가 있다면 검색 결과를 노출합니다. (✔️)
4. 검색창이 포커싱 아웃(blur)되면 검색결과 리스트를 숨깁니다. (✔️)
5. 검색 결과에 나타난 강의 제목을 클릭하면 해당 강의 상세 페이지로 이동합니다.(✔️)
   - 상세 페이지는 구체적으로 구현하지 않습니다.(✔️)

## 강의 추가 구현은 다음을 참고합니다.

1. 강의 리스트 페이지에 강의 추가 버튼을 만듭니다. (✔️)
2. 강의 추가 버튼을 클릭하면 강의를 추가하기 위한 모달이 나타납니다. (✔️)
3. 모달에선 강의의 제목과 가격을 입력 받습니다. (✔️)
   - 빈 강의 제목, 가격에 음수가 입력된다면 사용자에게 안내합니다. (✔️)
   - 강의에 필요한 다른 값들은 서버에서 임의로 설정합니다. (✔️)
4. 강의 추가를 위한 API를 참고하여 강의를 추가합니다. (✔️)
5. 추가가 완료되면 모달을 닫고 강의 리스트에 추가된 강의를 반영합니다. (✔️)

## 각 구현은 다음을 참고합니다.

1. HTML 페이지를 제공하는 서버는 `server.js`의 NodeJS 서버를 활용해도 되고 별도의 서버를 만들어 사용해도 됩니다. (✔️)
2. 페이지는 반응형으로 동작 하고 모바일 버전도 고려되어야 합니다. (✔️)
3. React, Vue, Angular, Svelte와 같은 프론트엔드 라이브러리 또는 프레임워크를 사용하지 않고 Vanilla json를 통해 개발해야합니다. (✔️)
   - 기타 다른 패키지의 사용에는 제한이 없습니다. (✔️)
4. API는 아래 [API 명세](#API-명세)를 참고합니다. (✔️)
5. git을 작성합니다. (✔️)
6. test를 작성한다면 별도의 폴더를 만들지 않고 `tests` 폴더에 작성합니다.
7. 아래 [**구현 설명**](#구현-설명) 영역에는 과제에 대해 설명 또는 전달하고 싶은 내용을 자유롭게 적어주시면 됩니다.
8. 위 참고 내용 외에 다른 내용을 구현하는 것은 자유롭게 진행합니다.
   - 위에 요구된 내용은 필수 항목입니다. 즉, 필수 요구사항을 충족한다면 구현 방식은 자유입니다.

## API 명세

<table>
<tbody>
<tr>
<th>Method</th>
<th>URL</th>
<th>Query String</th>
<th>Body</th>
<th>Response</th>
<th>비고</th>
</tr>
<tr>
<td>GET</td>
<td>

`/api/courses`

</td>
<td>

`page`: (_기본값: 1, 값: 1 이상의 number_) 페이지<br/>
`count`: (_기본값: 20, 값: 1 이상의 number_) 페이지당 컨텐츠 수<br/>
`lastContentId`: (_값: 1 이상의 number_) 요청하는 페이지의 이전 페이지 마지막 컨텐츠 id<br/>
`search`: (_값: string_) 검색어

</td>
<td></td>
<td>

success

```json
{
   "ok": true,
   "data": {
      "courses": [
         {
            "id": (number) 강의 ID,
            "title": (string) 강의 제목,
            "instructorName": (string) 지식공유자 이름,
            "price": (number) 강의 가격,
            "coverImageUrl": (string) 강의 커버 이미지
         },
         ...
      ]
   }
}
```

fail

```json
{
   "ok": false,
   "error": {
      "message": (string) 에러 메세지
   }
}
```

</td>
<td>강의리스트<br>무작위로 에러가 발생할 수 있습니다.</td>
</tr>
<tr>
<td>GET</td>
<td>

`/api/courses/:courseId`

</td>
<td></td>
<td></td>
<td>

success

```json
{
   "ok": true,
   "data": {
      "course": {
         "id": (number) 강의 ID,
         "title": (string) 강의 제목,
         "instructorName": (string) 지식공유자 이름,
         "price": (number) 강의 가격,
         "coverImageUrl": (string) 강의 커버 이미지
      }
   }
}
```

fail

```json
{
   "ok": false,
   "error": {
      "message": (string) 에러 메세지
   }
}
```

</td>
<td>강의상세</td>
</tr>
<tr>
<td>POST</td>
<td>

`/api/courses`

</td>
<td></td>
<td>

```json
{
   "title": (string) 강의 제목,
   "price": (0 이상의 number) 강의 가격
}
```

</td>
<td>

success

```json
{
   "ok": true,
   "data": {
      "createdCourseId": (number) 추가된 강의 ID
   }
}
```

fail

```json
{
   "ok": false,
   "error": {
      "message": (string) 에러 메세지
   }
}
```

</td>
<td>강의 추가<br>무작위로 에러가 발생할 수 있습니다.</td>
</tr>
<tr>
<td>GET</td>
<td>

`/api/search/courses`

</td>
<td>

`keyword`: (_값: string_) 검색어<br/>
`max`: (_기본값: 10, 값: 1 이상의 number_) 검색결과 최대 갯수<br/>

</td>
<td></td>
<td>

success

```json
{
   "ok": true,
   "data": {
      "results": [
         {
            "id": (number) 강의 ID,
            "title": (string) 강의 제목,
            "instructorName": (string) 지식공유자 이름,
         },
         ...
      ]
   }
}
```

fail

```json
{
   "ok": false,
   "error": {
      "message": (string) 에러 메세지
   }
}
```

</td>
<td>검색<br>무작위로 에러가 발생할 수 있습니다.</td>
</tr>
</tbody>
</table>

## 구현 설명

### 개발 운영체제

MacOs

### 개발 기간

- 8/30(월) - 9/6(일) (총 6일)

### Git

- https://github.com/6810779s/inflearn_project
- gitHub에는 보안 유지를 위해 readme파일은 업로드 하지 않았습니다

### 프로젝트 설명

< 서버 구동 >

- yarn start 혹은 node server.js로 실행
- port : 3000

< 링크별 페이지 설명 >

1. 초기 화면: http://localhost:3000/

- 이름 입력(필수)
- 강사 혹은 학생 선택
- 강사 선택 시
  > 강의 올리기 기능 사용가능
  > 직급: 강사
- 학생 선택 시
  > 강의 올리기 기능 사용 불가능
  > 직급: 학생

2. 메인 페이지: http://localhost:3000/api/courses

- 검색기능
  > 디바운싱을 사용하여 0.2초에 한번씩만 검색결과 노출하는 함수 발동.
  > 자동 검색어 노출에서 결과는 5개만 노출됨.
  > 클릭 시 상세페이지로 이동.
  > 포커싱될 경우 & 검색창에 2자이상 글씨가 있을 경우 검색결과 노출.
  > 포커싱 아웃될 경우 리스트 숨김.
  > 검색어가 공백일 시, id 반대 순서대로 목록이 10개만 나옴
- 무한 스크롤 기능
  > 스로틀링을 사용하여 스크롤 이벤트 실행 후 0.2초 동안만 함수 호출.
  > 로딩시간 지연시, 로딩박스 노출.
- 강의 리스트
  > 클릭 시 상세페이지 이동.
- 페이지 오늘쪽 프로필 창
  > 유저 기본정보 표시.(초기 페이지에 정보를 입력하지 않은 사용자일 경우, 이름: 방문자, 직위: 학생으로 표시).
  > top버튼 입력 시, 페이지 상단으로 이동.
  > position:fixed로 유저가 스크롤을 하단으로 내려도 따라옴.
  > 직위가 강사일 경우, 강의 올리기 버튼 포함

3. 검색 결과 페이지: http://localhost:3000/api/search/courses?keyword=${keyword}

- 검색 결과 리스트
  > 보여지는 목록 최대 개수(max) 기본값 10으로 설정
  > 클릭 시 상세페이지로 이동

4. 강의상세보기 페이지: http://localhost:3000/api/courses/${courseId}

- 상단
  > 커퍼 이미지, 제목, 지식공유자 이름 노출
- 본문
  > 강의소개 노출
- 우측
  > 가격 및 강의정보 노출
  > 홈으로 버튼 클릭시, 메인 페이지로 이동

5. 강의 추가 페이지: http://localhost:3000/api/courses/create/courses

- 강의 올리기
  > 제목, 가격, 입력.
  > 제목은 필수 입력 사항. (input태그에 required속성 부여).
  > 가격이 음수일 시.
- 강의 올리기 완료 시
  > 올린 강의의 상세페이지로 들어감.
  > 메인페이지에 업로드한 강의 노출.
- 강의 올리기 실패 시
  > 유저에게 경고창 표시 후, 메인페이지로 되돌아감.

< 반응형 >

- 데스크탑/태블릿/모바일 세 가지 모드.

< 추가된 파일 >

- public폴더
  > css, 자바스크립트 등 부가 파일들의 연결을 위해 미들웨어를 사용하여 public폴더와 연결.
- jsCode폴더
  > res.send()를 통해 보여줄 페이지 모듈들

< 개선해야될 부분 >

- 코드 리팩토링 필요.
- promise에서 reject될 시, 서버 종료 사항.
- 페이지 로딩이 지연될 시, 유저에게 보여줄 로딩창.
- 데이터 베이스 연결, 강의 업로드시 필요.
